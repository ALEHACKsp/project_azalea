# SConstruct file for klib-lists-test.

import os
import defaults

# Setup Environment.
env = Environment()
defaults.setup_default_env(env)

env['CXXFLAGS'] = '-std=gnu++14'
env['LINKFLAGS'] = '-Wl,--start-group'

# List of required components.
dependencies_in = ['#test/test_core/SConscript',
                   '#test/klib/lists/SConscript',
                   '#klib/lists/SConscript',
                   '#test/dummy_libs/panic/SConscript',
                   #'#test/dummy_libs/tracing/SConscript',
                  ]
                   
# Build components.
dependencies_out = [ ]

for dep in dependencies_in:
  out_dir = os.path.join('output', dep.strip('#'))
  dep_out = SConscript(dep, 'env', variant_dir=out_dir, duplicate=0)
  dependencies_out.append(dep_out)

env.Program("output/klib-lists-test", dependencies_out)